!function(e){var h=37;var f=null;var g=function(o){var m=arguments,l=true,n=1;o=o.replace(/%s/g,function(){var p=m[n++];if(typeof p==="undefined"){l=false;return""}return p});return l?o:""};var b=function(n,p,o,m){var l="";e.each(n,function(q,r){if(r[p]===m){l=r[o];return false}return true});return l};var d=function(m,n){var l=-1;e.each(m,function(o,p){if(p.field===n){l=o;return false}return true});return l};var a=function(){if(f===null){var n=e("<p/>").addClass("fixed-table-scroll-inner"),o=e("<div/>").addClass("fixed-table-scroll-outer"),m,l;o.append(n);e("body").append(o);m=n[0].offsetWidth;o.css("overflow","scroll");l=n[0].offsetWidth;if(m===l){l=o[0].clientWidth}o.remove();f=m-l}return f};var k=function(m,o,n,l){if(typeof o==="string"){var p=o.split(".");if(p.length>1){o=window;e.each(p,function(q,r){o=o[r]})}else{o=window[o]}}if(typeof o==="object"){return o}if(typeof o==="function"){return o.apply(m,n)}return l};var j=function(l){if(typeof l==="string"){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return l};var c=function(m,l){this.options=l;this.$el=e(m);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};c.DEFAULTS={classes:"table table-hover",height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",striped:false,columns:[],data:[],method:"get",url:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(l){return l},queryParamsType:"limit",responseHandler:function(l){return l},pagination:false,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationDetailVAlign:"bottom",search:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,minimumCountColumns:1,idField:undefined,cardView:false,trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,maintainSelected:false,searchTimeOut:500,keyEvents:false,searchText:"",iconSize:undefined,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},rowStyle:function(m,l){return{}},rowAttributes:function(m,l){return{}},onAll:function(m,l){return false},onClickRow:function(m,l){return false},onDblClickRow:function(m,l){return false},onSort:function(m,l){return false},onCheck:function(l){return false},onUncheck:function(l){return false},onCheckAll:function(){return false},onUncheckAll:function(){return false},onLoadSuccess:function(l){return false},onLoadError:function(l){return false},onColumnSwitch:function(m,l){return false},onColumnSearch:function(l,m){return false},onPageChange:function(m,l){return false},onSearch:function(l){return false},onPreBody:function(l){return false},onPostBody:function(){return false},onPostHeader:function(){return false}};c.LOCALES=[];c.LOCALES["en-US"]={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(l){return g("%s records per page",l)},formatShowingRows:function(n,l,m){return g("Showing %s to %s of %s rows",n,l,m)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};e.extend(c.DEFAULTS,c.LOCALES["en-US"]);c.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:true,cardVisible:true,filterControl:undefined};c.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-search.bs.table":"onColumnSearch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader"};c.prototype.init=function(){this.initContainer();this.initTable();this.initHeader();this.initData();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initServer();this.initKeyEvents()};c.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>','<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>','<div class="fixed-table-pagination"></div>',"</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$container.find(".fixed-table-body").append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$loading=this.$container.find(".fixed-table-loading");this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}};c.prototype.initTable=function(){var m=this,l=[],n=[];this.$header=this.$el.find("thead");if(!this.$header.length){this.$header=e("<thead></thead>").appendTo(this.$el)}if(!this.$header.find("tr").length){this.$header.append("<tr></tr>")}this.$header.find("th").each(function(){var o=e.extend({},{title:e(this).html(),"class":e(this).attr("class")},e(this).data());l.push(o)});this.options.columns=e.extend(true,[],l,this.options.columns);e.each(this.options.columns,function(o,p){m.options.columns[o]=e.extend({},c.COLUMN_DEFAULTS,{field:o},p)});if(this.options.data.length){return}this.$el.find("tbody tr").each(function(){var o={};o._id=e(this).attr("id");o._class=e(this).attr("class");e(this).find("td").each(function(p){var q=m.options.columns[p].field;o[q]=e(this).html();o["_"+q+"_id"]=e(this).attr("id");o["_"+q+"_class"]=e(this).attr("class");o["_"+q+"_data"]=e(this).data()});n.push(o)});this.options.data=n};c.prototype.initHeader=function(){var n=this,l=[],m=[],o=false,p=0;this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};e.each(this.options.columns,function(u,t){var A="",w="",y="",q="",x=g(' class="%s"',t["class"]),s=n.options.sortOrder||t.order,z=true,r="px",v="hidden";if(!t.visible){return}if(n.options.cardView&&(!t.cardVisible)){return}if(t.width!==undefined){if(typeof t.width==="string"){if(t.width.indexOf("%")>-1){r="%"}t.width=t.width.replace("%","").replace("px","")}}w=g("text-align: %s; ",t.halign?t.halign:t.align);y=g("text-align: %s; ",t.align);q=g("vertical-align: %s; ",t.valign);q+=g("width: %s"+r+"; ",t.checkbox||t.radio?36:t.width);l.push(t);n.header.fields.push(t.field);n.header.styles.push(y+q);n.header.classes.push(x);n.header.formatters.push(t.formatter);n.header.events.push(t.events);n.header.sorters.push(t.sorter);n.header.cellStyles.push(t.cellStyle);n.header.clickToSelects.push(t.clickToSelect);n.header.searchables.push(t.searchable);m.push("<th",t.checkbox||t.radio?g(' class="bs-checkbox %s"',t["class"]||""):x,g(' style="%s"',w+q),">");m.push(g('<div class="th-inner %s">',n.options.sortable&&t.sortable?"sortable":""));A=t.title;if(n.options.sortName===t.field&&n.options.sortable&&t.sortable){A+=n.getCaretHtml()}if(t.checkbox){if(!n.options.singleSelect&&n.options.checkboxHeader){A='<input name="btSelectAll" type="checkbox" />'}n.header.stateField=t.field}if(t.radio){A="";n.header.stateField=t.field;n.options.singleSelect=true}m.push(A);m.push("</div>");m.push('<div class="fht-cell"></div>');m.push('<div style="margin: 0px 2px 2px 2px;" class="filterControl">');if(t.filterControl&&t.searchable){o=true;v="visible"}if(t.filterControl!==undefined){switch(t.filterControl.toLowerCase()){case"input":m.push(g('<input type="text" class="form-control" style="width: 100%; visibility: %s">',v));break;case"select":m.push(g('<select class="%s form-control" style="width: 100%; visibility: %s"></select>',t.field,v));break}}else{m.push('<div style="height: 34px;"></div>')}m.push("</div>");m.push("</th>")});this.$header.find("tr").html(m.join(""));this.$header.find("th").each(function(q){e(this).data(l[q])});this.$container.off("click",".th-inner").on("click",".th-inner",function(q){if(n.options.sortable&&e(this).parent().data().sortable){n.onSort(q)}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$container.find(".fixed-table-header").hide();this.$loading.css("top",0)}else{this.$header.show();this.$container.find(".fixed-table-header").show();this.$loading.css("top",h+"px")}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var q=e(this).prop("checked");n[q?"checkAll":"uncheckAll"]()});if(o){this.$header.off("keyup","input").on("keyup","input",function(q){clearTimeout(p);p=setTimeout(function(){n.onColumnSearch(q)},n.options.searchTimeOut)});this.$header.off("change","select").on("change","select",function(q){clearTimeout(p);p=setTimeout(function(){n.onColumnSearch(q)},n.options.searchTimeOut)})}else{this.$header.find(".filterControl").hide()}};c.prototype.initFooter=function(){this.$footer=this.$container.find(".fixed-table-footer");if(!this.options.showFooter||this.options.cardView){this.$footer.hide()}else{this.$footer.show()}};c.prototype.initData=function(m,l){if(l==="append"){this.data=this.data.concat(m)}else{if(l==="prepend"){this.data=[].concat(m).concat(this.data)}else{this.data=m||this.options.data}}this.options.data=this.data;if(this.options.sidePagination==="server"){return}this.initSort()};c.prototype.initSort=function(){var o=this,n=this.options.sortName,l=this.options.sortOrder==="desc"?-1:1,m=e.inArray(this.options.sortName,this.header.fields);if(m!==-1){this.data.sort(function(q,p){var s=q[n],t=p[n],r=k(o.header,o.header.sorters[m],[s,t]);if(r!==undefined){return l*r}if(r!==undefined){return l*r}if(s===undefined||s===null){s=""}if(t===undefined||t===null){t=""}if(e.isNumeric(s)&&e.isNumeric(t)){s=parseFloat(s);t=parseFloat(t);if(s<t){return l*-1}return l}if(s===t){return 0}if(typeof s!=="string"){s=s.toString()}if(s.localeCompare(t)===-1){return l*-1}return l})}};c.prototype.onSort=function(l){var n=e(l.currentTarget).parent(),m=this.$header.find("th").eq(n.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===n.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=n.data("field");this.options.sortOrder=n.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);n.add(m).data("order",this.options.sortOrder).find(".th-inner").append(this.getCaretHtml());if(this.options.sidePagination==="server"){this.initServer();return}this.initSort();this.initBody()};c.prototype.initToolbar=function(){var o=this,n=[],q=0,m,p,l=0;this.$toolbar=this.$container.find(".fixed-table-toolbar").html("");if(typeof this.options.toolbar==="string"){e(g('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar))}n=[g('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=k(null,this.options.icons)}if(this.options.showPaginationSwitch){n.push(g('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){n.push(g('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){n.push(g('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){n.push(g('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');e.each(this.options.columns,function(r,s){if(s.radio||s.checkbox){return}if(o.options.cardView&&(!s.cardVisible)){return}var t=s.visible?' checked="checked"':"";if(s.switchable){n.push(g('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',s.field,r,t,s.title));l++}});n.push("</ul>","</div>")}n.push("</div>");if(this.showToolbar||n.length>2){this.$toolbar.append(n.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){o.options.cardView=!o.options.cardView;o.initHeader();o.initBody()})}if(this.options.showColumns){m=this.$toolbar.find(".keep-open");if(l<=this.options.minimumCountColumns){m.find("input").prop("disabled",true)}m.find("li").off("click").on("click",function(r){r.stopImmediatePropagation()});m.find("input").off("click").on("click",function(){var r=e(this);o.toggleColumn(r.val(),r.prop("checked"),false);o.trigger("column-switch",e(this).data("field"),r.prop("checked"))})}if(this.options.search){n=[];n.push('<div class="pull-'+this.options.searchAlign+' search">',g('<input class="form-control'+(this.options.iconSize===undefined?"":" input-"+this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(n.join(""));p=this.$toolbar.find(".search input");p.off("keyup").on("keyup",function(r){clearTimeout(q);q=setTimeout(function(){o.onSearch(r)},o.options.searchTimeOut)});if(this.options.searchText!==""){p.val(this.options.searchText);clearTimeout(q);q=setTimeout(function(){p.trigger("keyup")},o.options.searchTimeOut)}}};c.prototype.onSearch=function(l){var m=e.trim(e(l.currentTarget).val());if(this.options.trimOnSearch&&e(l.currentTarget).val()!==m){e(l.currentTarget).val(m)}if(m===this.searchText){return}this.searchText=m;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",m)};c.prototype.onColumnSearch=function(m,o){var n=e.trim(e(m.currentTarget).val());var l=e(m.currentTarget).parent().parent().data("field");if(e.isEmptyObject(this.filterColumnsPartial)){this.filterColumnsPartial={}}if(n){this.filterColumnsPartial[l]=n}else{delete this.filterColumnsPartial[l]}this.options.pageNumber=1;this.initSearch();this.updatePagination()};c.prototype.initSearch=function(){var n=this;if(this.options.sidePagination!=="server"){var m=this.searchText&&this.searchText.toLowerCase();var o=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;var l=e.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=o?e.grep(this.options.data,function(r,q){for(var p in o){if(r[p]!==o[p]){return false}}return true}):this.options.data;this.data=l?e.grep(this.data,function(s,r){for(var q in l){var p=l[q].toLowerCase();var t=s[q];t=k(n.header,n.header.formatters[e.inArray(q,n.header.fields)],[t,s,r],t);if(!(e.inArray(q,n.header.fields)!==-1&&(typeof t==="string"||typeof t==="number")&&(t+"").toLowerCase().indexOf(p)!==-1)){return false}}return true}):this.data;this.data=m?e.grep(this.data,function(s,r){for(var q in s){q=e.isNumeric(q)?parseInt(q,10):q;var t=s[q];t=k(n.header,n.header.formatters[e.inArray(q,n.header.fields)],[t,s,r],t);var p=e.inArray(q,n.header.fields);if(p!==-1&&n.header.searchables[p]&&(typeof t==="string"||typeof t==="number")&&(t+"").toLowerCase().indexOf(m)!==-1){return true}}return false}):this.data}};c.prototype.initPagination=function(){this.$pagination=this.$container.find(".fixed-table-pagination");if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var r=this,q=[],u=false,p,x,y,B,o,A,m,v,z,n=this.getData();if(this.options.sidePagination!=="server"){this.options.totalRows=n.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;u=true}else{if(this.options.pageSize===this.options.totalRows){var t=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(",");if(t.indexOf(this.options.formatAllRows().toLowerCase())>-1){u=true}}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}q.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");q.push('<span class="page-list">');var w=['<span class="btn-group dropup">','<button type="button" class="btn btn-default '+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',u?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],l=this.options.pageList;if(typeof this.options.pageList==="string"){var s=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");l=[];e.each(s,function(C,D){l.push(D.toUpperCase()===r.options.formatAllRows().toUpperCase()?r.options.formatAllRows():+D)})}e.each(l,function(C,D){if(!r.options.smartDisplay||C===0||l[C-1]<=r.options.totalRows){var E;if(u){E=D===r.options.formatAllRows()?' class="active"':""}else{E=D===r.options.pageSize?' class="active"':""}w.push(g('<li%s><a href="javascript:void(0)">%s</a></li>',E,D))}});w.push("</ul></span>");q.push(this.options.formatRecordsPerPage(w.join("")));q.push("</span>");q.push("</div>",'<div class="pull-'+this.options.paginationHAlign+'">','<ul class="pagination'+(this.options.iconSize===undefined?"":" pagination-"+this.options.iconSize)+'">','<li class="page-first"><a href="javascript:void(0)">&lt;&lt;</a></li>','<li class="page-pre"><a href="javascript:void(0)">&lt;</a></li>');if(this.totalPages<5){x=1;y=this.totalPages}else{x=this.options.pageNumber-2;y=x+4;if(x<1){x=1;y=5}if(y>this.totalPages){y=this.totalPages;x=y-4}}for(p=x;p<=y;p++){q.push('<li class="page-number'+(p===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',p,"</a>","</li>")}q.push('<li class="page-next"><a href="javascript:void(0)">&gt;</a></li>','<li class="page-last"><a href="javascript:void(0)">&gt;&gt;</a></li>',"</ul>","</div>");this.$pagination.html(q.join(""));B=this.$pagination.find(".page-list a");o=this.$pagination.find(".page-first");A=this.$pagination.find(".page-pre");m=this.$pagination.find(".page-next");v=this.$pagination.find(".page-last");z=this.$pagination.find(".page-number");if(this.options.pageNumber<=1){o.addClass("disabled");A.addClass("disabled")}if(this.options.pageNumber>=this.totalPages){m.addClass("disabled");v.addClass("disabled")}if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(l.length<2||this.options.totalRows<=l[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(u){this.options.pageSize=this.options.formatAllRows()}B.off("click").on("click",e.proxy(this.onPageListChange,this));o.off("click").on("click",e.proxy(this.onPageFirst,this));A.off("click").on("click",e.proxy(this.onPagePre,this));m.off("click").on("click",e.proxy(this.onPageNext,this));v.off("click").on("click",e.proxy(this.onPageLast,this));z.off("click").on("click",e.proxy(this.onPageNumber,this))};c.prototype.updatePagination=function(l){if(l&&e(l.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};c.prototype.onPageListChange=function(l){var m=e(l.currentTarget);m.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=m.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+m.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(l)};c.prototype.onPageFirst=function(l){this.options.pageNumber=1;this.updatePagination(l)};c.prototype.onPagePre=function(l){this.options.pageNumber--;this.updatePagination(l)};c.prototype.onPageNext=function(l){this.options.pageNumber++;this.updatePagination(l)};c.prototype.onPageLast=function(l){this.options.pageNumber=this.totalPages;this.updatePagination(l)};c.prototype.onPageNumber=function(l){if(this.options.pageNumber===+e(l.currentTarget).text()){return}this.options.pageNumber=+e(l.currentTarget).text();this.updatePagination(l)};c.prototype.initBody=function(q){var s=this,r=[],o=this.getData();this.trigger("pre-body",o);this.$body=this.$el.find("tbody");if(!this.$body.length){this.$body=e("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=o.length}for(var p=this.pageFrom-1;p<this.pageTo;p++){var u,v=o[p],l={},m=[],n={},t=[];l=k(this.options,this.options.rowStyle,[v,p],l);if(l&&l.css){for(u in l.css){m.push(u+": "+l.css[u])}}n=k(this.options,this.options.rowAttributes,[v,p],n);if(n){for(u in n){t.push(g('%s="%s"',u,j(n[u])))}}r.push("<tr",g(" %s",t.join(" ")),g(' id="%s"',e.isArray(v)?undefined:v._id),g(' class="%s"',l.classes||(e.isArray(v)?undefined:v._class)),g(' data-index="%s"',p),">");if(this.options.cardView){r.push(g('<td colspan="%s">',this.header.fields.length))}e.each(this.header.fields,function(B,G){var J="",H=v[G],E="",x={},K="",D=s.header.classes[B],z="",y=s.options.columns[d(s.options.columns,G)];l=g('style="%s"',m.concat(s.header.styles[B]).join("; "));H=k(s.header,s.header.formatters[B],[H,v,p],H);if(v["_"+G+"_id"]){K=g(' id="%s"',v["_"+G+"_id"])}if(v["_"+G+"_class"]){D=g(' class="%s"',v["_"+G+"_class"])}x=k(s.header,s.header.cellStyles[B],[H,v,p],x);if(x.classes){D=g(' class="%s"',x.classes)}if(x.css){var w=[];for(var I in x.css){w.push(I+": "+x.css[I])}l=g('style="%s"',w.concat(s.header.styles[B]).join("; "))}if(v["_"+G+"_data"]&&!e.isEmptyObject(v["_"+G+"_data"])){e.each(v["_"+G+"_data"],function(N,M){if(N==="index"){return}z+=g(' data-%s="%s"',N,M)})}if(y.checkbox||y.radio){E=y.checkbox?"checkbox":E;E=y.radio?"radio":E;J=[s.options.cardView?'<div class="card-view">':'<td class="bs-checkbox">',"<input"+g(' data-index="%s"',p)+g(' name="%s"',s.options.selectItemName)+g(' type="%s"',E)+g(' value="%s"',v[s.options.idField])+g(' checked="%s"',H===true||(H&&H.checked)?"checked":undefined)+g(' disabled="%s"',!y.checkboxEnabled||(H&&H.disabled)?"disabled":undefined)+" />",s.options.cardView?"</div>":"</td>"].join("")}else{H=typeof H==="undefined"||H===null?s.options.undefinedText:H;J=s.options.cardView?['<div class="card-view">',s.options.showHeader?g('<span class="title" %s>%s</span>',l,b(s.options.columns,"field","title",G)):"",g('<span class="value">%s</span>',H),"</div>"].join(""):[g("<td%s %s %s %s>",K,D,l,z),H,"</td>"].join("");if(y.filterControl!==undefined&&y.filterControl.toLowerCase()==="select"&&y.searchable){var C=e("."+y.field),F=0,A=false,L;if(C!==undefined){L=C.get(0).options;if(L.length===0){C.append(e("<option></option>").attr("value","").text(""));C.append(e("<option></option>").attr("value",H).text(H))}else{for(;F<L.length;F++){if(L[F].value===H){A=true;break}}if(!A){C.append(e("<option></option>").attr("value",H).text(H))}}}}if(s.options.cardView&&s.options.smartDisplay&&H===""){J=""}}r.push(J)});if(this.options.cardView){r.push("</td>")}r.push("</tr>")}if(!r.length){r.push('<tr class="no-records-found">',g('<td colspan="%s">%s</td>',this.header.fields.length,this.options.formatNoMatches()),"</tr>")}this.$body.html(r.join(""));if(!q){this.scrollTo(0)}this.$body.find("> tr > td").off("click").on("click",function(){var w=e(this).parent();s.trigger("click-row",s.data[w.data("index")],w);if(s.options.clickToSelect){if(s.header.clickToSelects[w.children().index(e(this))]){w.find(g('[name="%s"]',s.options.selectItemName))[0].click()}}});this.$body.find("tr").off("dblclick").on("dblclick",function(){s.trigger("dbl-click-row",s.data[e(this).data("index")],e(this))});this.$selectItem=this.$body.find(g('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(x){x.stopImmediatePropagation();var w=e(this).prop("checked"),y=s.data[e(this).data("index")];y[s.header.stateField]=w;s.trigger(w?"check":"uncheck",y);if(s.options.singleSelect){s.$selectItem.not(this).each(function(){s.data[e(this).data("index")][s.header.stateField]=false});s.$selectItem.filter(":checked").not(this).prop("checked",false)}s.updateSelected()});e.each(this.header.events,function(y,x){if(!x){return}if(typeof x==="string"){x=k(null,x)}for(var w in x){s.$body.find("tr").each(function(){var D=e(this),E=D.find(s.options.cardView?".card-view":"td").eq(y),A=w.indexOf(" "),z=w.substring(0,A),B=w.substring(A+1),C=x[w];E.find(B).off(z).on(z,function(H){var F=D.data("index"),I=s.data[F],G=I[s.header.fields[y]];C.apply(this,[H,G,I,F])})})}});this.updateSelected();this.resetView();this.trigger("post-body")};c.prototype.initServer=function(l,o){var m=this,n={},p={pageSize:this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(!this.options.url){return}if(this.options.queryParamsType==="limit"){p={search:p.searchText,sort:p.sortName,order:p.sortOrder};if(this.options.pagination){p.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;p.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1)}}if(!(e.isEmptyObject(this.filterColumnsPartial))){p.filter=JSON.stringify(this.filterColumnsPartial,null)}n=k(this.options,this.options.queryParams,[p],n);e.extend(n,o||{});if(n===false){return}if(!l){this.$loading.show()}e.ajax(e.extend({},k(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(n):n,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(q){q=k(m.options,m.options.responseHandler,[q],q);m.load(q);m.trigger("load-success",q)},error:function(q){m.trigger("load-error",q.status)},complete:function(){if(!l){m.$loading.hide()}}}))};c.prototype.initKeyEvents=function(){if(this.options.keyEvents){var l=this;e(document).off("keypress").on("keypress",function(q){var p=l.$toolbar.find(".search input"),m=l.$toolbar.find('button[name="refresh"]'),n=l.$toolbar.find('button[name="toggle"]'),o=l.$toolbar.find('button[name="paginationSwitch"]');switch(q.keyCode){case 115:case 83:if(!l.options.search){return}if(document.activeElement===p.get(0)){return true}p.focus();return false;case 114:case 82:if(!l.options.showRefresh){return}if(document.activeElement===p.get(0)){return true}m.click();return false;case 116:case 84:if(!l.options.showToggle){return}if(document.activeElement===p.get(0)){return true}n.click();return false;case 112:case 80:if(!l.options.showPaginationSwitch){return}if(document.activeElement===p.get(0)){return true}o.click();return false}})}};c.prototype.getCaretHtml=function(){return['<span class="order'+(this.options.sortOrder==="desc"?"":" dropup")+'">','<span class="caret" style="margin: 10px 5px;"></span>',"</span>"].join("")};c.prototype.updateSelected=function(){var l=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",l);this.$selectItem.each(function(){e(this).parents("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})};c.prototype.updateRows=function(m){var l=this;this.$selectItem.each(function(){l.data[e(this).data("index")][l.header.stateField]=m})};c.prototype.resetRows=function(){var l=this;e.each(this.data,function(m,n){l.$selectAll.prop("checked",false);l.$selectItem.prop("checked",false);n[l.header.stateField]=false})};c.prototype.trigger=function(m){var l=Array.prototype.slice.call(arguments,1);m+=".bs.table";this.options[c.EVENTS[m]].apply(this.options,l);this.$el.trigger(e.Event(m),l);this.options.onAll(m,l);this.$el.trigger(e.Event("all.bs.table"),[m,l])};c.prototype.resetHeader=function(){this.$el.css("margin-top",-this.$header.height());clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0);return};c.prototype.fitHeader=function(){var m=this,n,o,l;if(m.$el.is(":hidden")){m.timeoutFooter_=setTimeout(e.proxy(m.fitHeader,m),100);return}n=m.$container.find(".fixed-table-header"),o=m.$container.find(".fixed-table-body"),l=m.$el.width()>o.width()?a():0;m.$header_=m.$header.clone(true,true);m.$selectAll_=m.$header_.find('[name="btSelectAll"]');n.css({"margin-right":l}).find("table").css("width",m.$el.css("width")).html("").attr("class",m.$el.attr("class")).append(m.$header_);m.$header.find("th").each(function(p){m.$header_.find("th").eq(p).data(e(this).data())});m.$body.find("tr:first-child:not(.no-records-found) > *").each(function(p){m.$header_.find("div.fht-cell").eq(p).width(e(this).innerWidth())});o.off("scroll").on("scroll",function(){n.scrollLeft(e(this).scrollLeft())});m.trigger("post-header")};c.prototype.resetFooter=function(){var m=this,n=m.getData(),l=[];if(!this.options.showFooter||this.options.cardView){return}e.each(this.options.columns,function(p,r){var s="",q="",o=g(' class="%s"',r["class"]);if(!r.visible){return}if(m.options.cardView&&(!r.cardVisible)){return}s=g("text-align: %s; ",r.falign?r.falign:r.align);q=g("vertical-align: %s; ",r.valign);l.push("<td",o,g(' style="%s"',s+q),">");l.push(k(r,r.footerFormatter,[n],"&nbsp;")||"&nbsp;");l.push("</td>")});this.$footer.find("tr").html(l.join(""));clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};c.prototype.fitFooter=function(){var o=this,p,l,n,m;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100);return}p=this.$container.find(".fixed-table-body");n=this.$el.css("width");m=n>p.width()?a():0;this.$footer.css({"margin-right":m}).find("table").css("width",n).attr("class",this.$el.attr("class"));l=this.$footer.find("td");p.find("tbody tr:first-child:not(.no-records-found) > td").each(function(q){l.eq(q).outerWidth(e(this).outerWidth())})};c.prototype.toggleColumn=function(l,m,o){if(l===-1){return}this.options.columns[l].visible=m;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var n=this.$toolbar.find(".keep-open input").prop("disabled",false);if(o){n.filter(g('[value="%s"]',l)).prop("checked",m)}if(n.filter(":checked").length<=this.options.minimumCountColumns){n.filter(":checked").prop("disabled",true)}}};c.prototype.toggleRow=function(l,m,n){if(l===-1){return}e(this.$body[0]).children().filter(g(m?'[value="%s"]':'[data-index="%s"]',l))[n?"show":"hide"]()};c.prototype.resetView=function(q){var n=this,o=0,m=n.$container.find(".fixed-table-container");if(q&&q.height){this.options.height=q.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var p=+this.$toolbar.children().outerHeight(true),r=+this.$pagination.children().outerHeight(true),l=this.options.height-p-r;m.css("height",l+"px")}if(this.options.cardView){n.$el.css("margin-top","0");m.css("padding-bottom","0");return}if(this.options.showHeader&&this.options.height){this.resetHeader();o+=h}else{this.$container.find(".fixed-table-header").hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){o+=h}}m.css("padding-bottom",o+"px")};c.prototype.getData=function(){return(this.searchText||!e.isEmptyObject(this.filterColumns)||!e.isEmptyObject(this.filterColumnsPartial))?this.data:this.options.data};c.prototype.load=function(m){var l=false;if(this.options.sidePagination==="server"){this.options.totalRows=m.total;l=m.fixedScroll;m=m.rows}else{if(!e.isArray(m)){l=m.fixedScroll;m=m.data}}this.initData(m);this.initSearch();this.initPagination();this.initBody(l)};c.prototype.append=function(l){this.initData(l,"append");this.initSearch();this.initPagination();this.initBody(true)};c.prototype.prepend=function(l){this.initData(l,"prepend");this.initSearch();this.initPagination();this.initBody(true)};c.prototype.remove=function(o){var l=this.options.data.length,m,n;if(!o.hasOwnProperty("field")||!o.hasOwnProperty("values")){return}for(m=l-1;m>=0;m--){n=this.options.data[m];if(!n.hasOwnProperty(o.field)){continue}if(e.inArray(n[o.field],o.values)!==-1){this.options.data.splice(m,1)}}if(l===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};c.prototype.insertRow=function(l){if(!l.hasOwnProperty("index")||!l.hasOwnProperty("row")){return}this.data.splice(l.index,0,l.row);this.initSearch();this.initPagination();this.initBody(true)};c.prototype.updateRow=function(l){if(!l.hasOwnProperty("index")||!l.hasOwnProperty("row")){return}e.extend(this.data[l.index],l.row);this.initBody(true)};c.prototype.showRow=function(l){if(!l.hasOwnProperty("index")){return}this.toggleRow(l.index,l.isIdField===undefined?false:true,true)};c.prototype.hideRow=function(l){if(!l.hasOwnProperty("index")){return}this.toggleRow(l.index,l.isIdField===undefined?false:true,false)};c.prototype.getRowsHidden=function(l){var n=e(this.$body[0]).children().filter(":hidden"),m=0;if(l){for(;m<n.length;m++){e(n[m]).show()}}return n};c.prototype.mergeCells=function(t){var s=t.index,n=e.inArray(t.field,this.header.fields),o=t.rowspan||1,m=t.colspan||1,q,p,r=this.$body.find("tr"),l=r.eq(s).find("td").eq(n);if(s<0||n<0||s>=this.data.length){return}for(q=s;q<s+o;q++){for(p=n;p<n+m;p++){r.eq(q).find("td").eq(p).hide()}}l.attr("rowspan",o).attr("colspan",m).show()};c.prototype.getOptions=function(){return this.options};c.prototype.getSelections=function(){var l=this;return e.grep(this.data,function(m){return m[l.header.stateField]})};c.prototype.checkAll=function(){this.checkAll_(true)};c.prototype.uncheckAll=function(){this.checkAll_(false)};c.prototype.checkAll_=function(l){var m;if(!l){m=this.getSelections()}this.$selectItem.filter(":enabled").prop("checked",l);this.updateRows(l);this.updateSelected();if(l){m=this.getSelections()}this.trigger(l?"check-all":"uncheck-all",m)};c.prototype.check=function(l){this.check_(true,l)};c.prototype.uncheck=function(l){this.check_(false,l)};c.prototype.check_=function(m,l){this.$selectItem.filter(g('[data-index="%s"]',l)).prop("checked",m);this.data[l][this.header.stateField]=m;this.updateSelected();this.trigger(m?"check":"uncheck",this.data[l])};c.prototype.checkBy=function(l){this.checkBy_(true,l)};c.prototype.uncheckBy=function(l){this.checkBy_(false,l)};c.prototype.checkBy_=function(m,n){if(!n.hasOwnProperty("field")||!n.hasOwnProperty("values")){return}var l=this;e.each(this.options.data,function(o,p){if(!p.hasOwnProperty(n.field)){return false}if(e.inArray(p[n.field],n.values)!==-1){l.$selectItem.filter(g('[data-index="%s"]',o)).prop("checked",m);p[l.header.stateField]=m;l.trigger(m?"check":"uncheck",p)}});this.updateSelected()};c.prototype.destroy=function(){this.$el.insertBefore(this.$container);e(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};c.prototype.showLoading=function(){this.$loading.show()};c.prototype.hideLoading=function(){this.$loading.hide()};c.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var l=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){l.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{l.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};c.prototype.refresh=function(l){if(l&&l.url){this.options.url=l.url;this.options.pageNumber=1}this.initServer(l&&l.silent,l&&l.query)};c.prototype.showColumn=function(l){this.toggleColumn(d(this.options.columns,l),true,true)};c.prototype.hideColumn=function(l){this.toggleColumn(d(this.options.columns,l),false,true)};c.prototype.filterBy=function(l){this.filterColumns=e.isEmptyObject(l)?{}:l;this.options.pageNumber=1;this.initSearch();this.updatePagination()};c.prototype.scrollTo=function(m){var l=this.$container.find(".fixed-table-body");if(typeof m==="string"){m=m==="bottom"?l[0].scrollHeight:0}if(typeof m==="number"){l.scrollTop(m)}};c.prototype.selectPage=function(l){if(l>0&&l<=this.options.totalPages){this.options.pageNumber=l;this.updatePagination()}};c.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};c.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};c.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initToolbar();this.initBody()};var i=["getOptions","getSelections","getData","load","append","prepend","remove","insertRow","updateRow","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","check","uncheck","checkBy","uncheckBy","refresh","resetView","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","selectPage","prevPage","nextPage","togglePagination","toggleView"];e.fn.bootstrapTable=function(l,n){var m;this.each(function(){var q=e(this),p=q.data("bootstrap.table"),o=e.extend({},c.DEFAULTS,q.data(),typeof l==="object"&&l);if(typeof l==="string"){if(e.inArray(l,i)<0){throw"Unknown method: "+l}if(!p){return}m=p[l](n);if(l==="destroy"){q.removeData("bootstrap.table")}}if(!p){q.data("bootstrap.table",(p=new c(this,o)))}});return typeof m==="undefined"?this:m};e.fn.bootstrapTable.Constructor=c;e.fn.bootstrapTable.defaults=c.DEFAULTS;e.fn.bootstrapTable.columnDefaults=c.COLUMN_DEFAULTS;e.fn.bootstrapTable.locales=c.LOCALES;e.fn.bootstrapTable.methods=i;e(function(){e('[data-toggle="table"]').bootstrapTable()})}(jQuery);
